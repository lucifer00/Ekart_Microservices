package com.ekart.cart.service;

import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.ekart.cart.dto.AddCartDto;
import com.ekart.cart.dto.CartDto;
import com.ekart.cart.entity.Cart;
import com.ekart.cart.entity.CartId;
import com.ekart.cart.repository.CartRepository;

@Service
public class CartService {
	@Autowired
	CartRepository repository;
	public boolean addToKArt(AddCartDto dto,String user_id) {
		Cart cart=new Cart();
		cart.setQuantity(dto.getQuantity());
		cart.setCartId(new CartId(user_id, dto.getProduct_id()));
		if(repository.save(cart)!=null)return true;
		return false;
	}
	
	public CartDto getKart(String user_id) {
		List<Cart> carts=repository.findAllByIdUserId(user_id);
		for(Cart cart:carts) {
			System.out.println(cart.toString());
		}
		return null;
	}
}
